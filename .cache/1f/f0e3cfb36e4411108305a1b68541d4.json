{"id":"services/User.js","dependencies":[{"name":"/Users/birusnt/Development/drawguys-api/package.json","includedInParent":true,"mtime":1601323522620},{"name":"../socket.js","loc":{"line":1,"column":19},"parent":"/Users/birusnt/Development/drawguys-api/services/User.js","resolved":"/Users/birusnt/Development/drawguys-api/socket.js"},{"name":"./Room","loc":{"line":3,"column":21},"parent":"/Users/birusnt/Development/drawguys-api/services/User.js","resolved":"/Users/birusnt/Development/drawguys-api/services/Room.js"}],"generated":{"js":"const io = require('../socket.js').getio();\n\nconst _ = require('lodash');\n\nconst Room = require('./Room');\n\nconst LOG = false; // socket events\n\nio.on('connection', socket => {\n  socket.on('set_user', user => setUser(user, socket));\n}); // actions\n\nfunction setUser(user, socket) {\n  log('set-user', user.userid);\n  socket.userid = user.userid;\n  socket.username = user.username;\n\n  if (user.roomid) {\n    Room.joinRoom(user.roomid, socket);\n  }\n} // helpers\n\n\nfunction log(message, userid) {\n  if (LOG) {\n    console.log(`user:${message}`, userid);\n  }\n}"},"sourceMaps":null,"error":null,"hash":"e5d0affabf14eab38a77dda5a8386540","cacheData":{"env":{}}}